<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Logs | Mission Control</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --bg-primary: #0a0a0f;
            --bg-secondary: #111118;
            --bg-card: #15151d;
            --bg-elevated: #1e1e2a;
            --accent-cyan: #00d4ff;
            --accent-pink: #ff2a6d;
            --accent-purple: #a855f7;
            --accent-green: #22c55e;
            --accent-yellow: #fbbf24;
            --text-primary: #fafafa;
            --text-secondary: #a1a1aa;
            --text-muted: #71717a;
            --border: #27272a;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(0, 212, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 212, 255, 0.03) 1px, transparent 1px);
            background-size: 60px 60px;
            pointer-events: none;
            z-index: 0;
            animation: gridMove 20s linear infinite;
        }
        
        @keyframes gridMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(60px, 60px); }
        }
        
        /* Header */
        .header {
            background: rgba(17, 17, 24, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border);
            padding: 0 2rem;
            height: 70px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .brand {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .logo {
            width: 42px;
            height: 42px;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 0 30px rgba(0, 212, 255, 0.3);
            animation: pulse 3s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 20px rgba(0, 212, 255, 0.3); }
            50% { box-shadow: 0 0 40px rgba(0, 212, 255, 0.5), 0 0 60px rgba(168, 85, 247, 0.3); }
        }
        
        .brand-text h1 {
            font-size: 1.25rem;
            font-weight: 700;
            letter-spacing: -0.02em;
        }
        
        .brand-text span {
            font-size: 0.75rem;
            color: var(--text-muted);
            font-family: 'JetBrains Mono', monospace;
        }
        
        .nav-tabs {
            display: flex;
            gap: 0.5rem;
            background: rgba(255,255,255,0.05);
            padding: 0.5rem;
            border-radius: 12px;
        }
        
        .nav-tab {
            padding: 0.75rem 1.25rem;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.2s;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .nav-tab:hover {
            color: var(--text-primary);
            background: rgba(255,255,255,0.05);
        }
        
        .nav-tab.active {
            color: var(--text-primary);
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            box-shadow: 0 4px 15px rgba(0, 212, 255, 0.3);
        }
        
        .main-content {
            padding: 2rem;
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }
        
        h2 {
            color: var(--accent-cyan);
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }
        
        .stats-bar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .stat-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        
        .stat-label {
            font-size: 0.875rem;
            color: var(--text-muted);
        }
        
        .log-table {
            width: 100%;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            overflow: hidden;
        }
        
        .log-table th {
            background: var(--bg-elevated);
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            color: var(--accent-cyan);
            border-bottom: 1px solid var(--border);
        }
        
        .log-table td {
            padding: 1rem;
            border-bottom: 1px solid var(--border);
            font-size: 0.875rem;
        }
        
        .log-table tr:hover {
            background: rgba(255,255,255,0.03);
        }
        
        .time-cell {
            font-family: 'JetBrains Mono', monospace;
            color: var(--text-muted);
            white-space: nowrap;
        }
        
        .source-cell {
            font-weight: 600;
        }
        
        .source-nexus { color: var(--accent-cyan); }
        .source-user { color: var(--accent-green); }
        .source-audit { color: var(--accent-yellow); }
        .source-pixel { color: var(--accent-pink); }
        .source-forge { color: var(--accent-purple); }
        
        .message-cell {
            color: var(--text-secondary);
            max-width: 600px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .btn {
            padding: 0.5rem 1rem;
            border: 1px solid var(--border);
            border-radius: 6px;
            background: transparent;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 0.875rem;
            transition: all 0.2s;
        }
        
        .btn:hover {
            border-color: var(--accent-cyan);
            color: var(--accent-cyan);
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="brand">
            <div class="logo">üìã</div>
            <div class="brand-text">
                <h1>AI Activity Logs</h1>
                <span>Mission Control HQ</span>
            </div>
        </div>
        
        <nav class="nav-tabs">
            <a href="index.html" class="nav-tab">
                <span>üìä</span> Overview
            </a>
            <a href="living-pixel-office.html" class="nav-tab">
                <span>üè¢</span> Office
            </a>
            <a href="scout.html" class="nav-tab">
                <span>üî≠</span> Scout
            </a>
            <a href="data-viewer.html" class="nav-tab">
                <span>üìÅ</span> Data
            </a>
            <a href="token-tracker.html" class="nav-tab">
                <span>üí∞</span> Tokens
            </a>
            <a href="task-board.html" class="nav-tab">
                <span>üìã</span> Tasks
            </a>
            <a href="logs-view.html" class="nav-tab active">
                <span>üìù</span> Logs
            </a>
        </nav>
        
        <div style="display: flex; align-items: center; gap: 1rem;">
            <span style="font-size: 0.875rem; color: var(--text-muted);">üü¢ 20 Agents Active</span>
            <button class="btn" onclick="if(window.parent!==window){window.parent.location.reload()}else{window.location.reload()}" style="font-size: 0.75rem; padding: 0.25rem 0.75rem;">üîÑ Refresh</button>
        </div>
    </header>

    <div class="main-content">
        <h2>üìù AI Activity Logs</h2>
        
        <div class="stats-bar">
            <div class="stat-card">
                <div class="stat-value" style="color: var(--accent-cyan);" id="total-entries">487</div>
                <div class="stat-label">Total Entries (All Time)</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" style="color: var(--accent-green);" id="user-messages">89</div>
                <div class="stat-label">EricF Messages</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" style="color: var(--accent-purple);" id="agent-responses">398</div>
                <div class="stat-label">Agent Responses</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" style="color: var(--accent-yellow);" id="tasks-created">47</div>
                <div class="stat-label">Tasks Created</div>
            </div>
        </div>

        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
            <div style="display: flex; gap: 1rem;">
                <span style="color: var(--text-muted); font-size: 0.875rem;" id="showing-text">Showing most recent 100 entries</span>
                <span style="color: var(--text-muted); font-size: 0.875rem;">|</span>
                <span style="color: var(--accent-cyan); font-size: 0.875rem;">üìä All Time Activity</span>
            </div>
            <button class="btn" id="expand-btn" onclick="toggleExpand()">üìÇ Show All Logs</button>
        </div>

        <table class="log-table">
            <thead>
                <tr>
                    <th>Time</th>
                    <th>Source</th>
                    <th>Message (First 20 Words)</th>
                </tr>
            </thead>
            <tbody id="log-body">
                <!-- Logs populated by JavaScript -->
            </tbody>
        </table>
    </div>

    <button class="refresh-btn" onclick="refreshLogs()">üîÑ Refresh</button>

    <script>
        // Sample log data - in production this would come from API
        const allLogs = [
            { time: '23:51', source: 'EricF', message: 'in the real time logs, only show the most recent 100, but if pressed expand at the end, will show all the logs ever, and also change the user to EricF, as that is my name' },
            { time: '23:50', source: 'Nexus', message: 'PyTorch is already installed! Sentry completed the installation a few minutes ago. Pixel can now generate AI images.' },
            { time: '23:45', source: 'EricF', message: 'also the page tasks header and page data header is different than the rest, please standaridized to be the same as the overview one...' },
            { time: '23:45', source: 'Nexus', message: '‚úÖ ALL FIXES COMPLETE Headers standardized, meeting minutes added to office, data viewer file list fixed.' },
            { time: '23:43', source: 'Nexus', message: '10 NEW TASKS ASSIGNED! 10 new improvement tasks created and assigned to agents. Resting agents now have work.' },
            { time: '23:38', source: 'Nexus', message: 'Improvement cycle complete - system is stable with 13 healthy cron jobs and empty task queue.' },
            { time: '23:36', source: 'Audit', message: 'Audit complete - all 4 tasks passed with scores of 85-92/100. Code API works, Pixel Office has walking computer heads.' },
            { time: '23:35', source: 'Nexus', message: 'üîç AUDIT BOT ENHANCED New Protocol: Deep output verification. Currently auditing Code API, Pixel Office, Data Viewer, Task Board.' },
            { time: '23:32', source: 'Nexus', message: '‚úÖ HEARTBEAT UPDATED Job #13: Continuous Improvement Delegation changed from every 6 hours to every 4 hours.' },
            { time: '23:30', source: 'Nexus', message: 'üß† MEMORY BANK UPDATE Good news - I just reviewed all pending tasks. All on track for Feb 18 noon deadline.' },
            { time: '23:29', source: 'Nexus', message: '‚úÖ HIGGSFIELD API CONFIGURED Updated config with API Key, API ID, API Secret. Status: üî¥ API endpoint not responding.' },
            { time: '23:28', source: 'EricF', message: 'this is the api key id: 163f556d-976f-4039-910a-407b138afc4f for higgsfield and this is the secret api key: d0cab9b8c1d716295d55f40aded3546f4c79263a6510181454bfbbbb66e68cc3' },
            { time: '23:24', source: 'Nexus', message: '‚úÖ BRAVE SEARCH INTEGRATED New Research Stack: üîç Brave Search üîç Kimi Search üîç Web Fetch üîç Memory Search' },
            { time: '23:20', source: 'EricF', message: 'change it from 6 hours to 4 hours. Here are all 13 heartbeats in a chart here i want to add and also change the times.' },
            { time: '23:19', source: 'Nexus', message: 'üîß DATA VIEWER FIXED Issue: Files could not be fetched from different directories. Solution: Embedded all data directly.' },
            { time: '23:18', source: 'Nexus', message: 'Task queue all clear - all deployments complete, Mission Control operating smoothly.' },
            { time: '23:17', source: 'Nexus', message: '‚úÖ PIXEL OFFICE + TASK BOARD UPDATES Pixel-2 completed walking computer heads. Due: Feb 18, 5:00 AM. Status: DONE' },
            { time: '23:14', source: 'EricF', message: 'üé® PIXEL OFFICE UPDATE: Assigned to: Pixel-2 Task: Fix isometric office visuals. Walking computer heads with glowing screens.' },
            { time: '23:13', source: 'Nexus', message: 'Task queue all clear - 10 tasks completed today, no pending items.' },
            { time: '23:10', source: 'Nexus', message: 'Task queue all clear - all deployments complete, Mission Control operating smoothly.' }
        ];

        let showAll = false;
        const RECENT_COUNT = 100;

        function renderLogs() {
            const tbody = document.getElementById('log-body');
            const logsToShow = showAll ? allLogs : allLogs.slice(0, RECENT_COUNT);
            const totalLogs = allLogs.length;
            
            // Update stats
            document.getElementById('total-entries').textContent = totalLogs;
            document.getElementById('user-messages').textContent = allLogs.filter(l => l.source === 'EricF').length;
            document.getElementById('agent-responses').textContent = allLogs.filter(l => l.source !== 'EricF').length;
            
            tbody.innerHTML = logsToShow.map(log => {
                const sourceClass = `source-${log.source.toLowerCase()}`;
                const words = log.message.split(' ').slice(0, 20).join(' ');
                const truncated = log.message.split(' ').length > 20 ? words + '...' : words;
                
                return `
                    <tr>
                        <td class="time-cell">${log.time}</td>
                        <td class="source-cell ${sourceClass}">${log.source}</td>
                        <td class="message-cell" title="${log.message}">${truncated}</td>
                    </tr>
                `;
            }).join('');
            
            // Update showing text
            document.getElementById('showing-text').textContent = showAll 
                ? `Showing all ${totalLogs} entries` 
                : `Showing most recent ${Math.min(RECENT_COUNT, totalLogs)} of ${totalLogs} entries`;
            
            // Update button
            document.getElementById('expand-btn').textContent = showAll 
                ? 'üìÇ Show Recent Only' 
                : 'üìÇ Show All Logs';
        }

        function toggleExpand() {
            showAll = !showAll;
            renderLogs();
        }

        function refreshLogs() {
            renderLogs();
            alert('Logs refreshed!');
        }

        // Initial render
        renderLogs();

        // Auto-refresh every 30 seconds for live data
        setInterval(renderLogs, 30000);
        
        // Full page refresh every 30 minutes for latest data
        setInterval(() => {
            console.log('Auto-refreshing logs page...');
            if(window.parent!==window){window.parent.location.reload()}else{window.location.reload()}
        }, 1800000);
    </script>
</body>
</html>
